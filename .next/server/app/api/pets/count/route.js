"use strict";(()=>{var e={};e.id=814,e.ids=[814],e.modules={11185:e=>{e.exports=require("mongoose")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},51368:(e,t,o)=>{o.r(t),o.d(t,{originalPathname:()=>b,patchFetch:()=>v,requestAsyncStorage:()=>d,routeModule:()=>l,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m});var n={};o.r(n),o.d(n,{GET:()=>p});var r=o(49303),s=o(88716),i=o(60670),a=o(87070),c=o(16385),u=o(76837);async function p(){try{console.log("Connecting to database..."),await (0,c.Z)(),console.log("Connected to database successfully"),console.log("Counting animals...");let[e,t,o,n,r,s]=await Promise.all([u.Z.countDocuments({species:"cat"}),u.Z.countDocuments({species:"dog"}),u.Z.countDocuments({species:"bird"}),u.Z.countDocuments({species:"guinea-pig"}),u.Z.countDocuments({species:"rabbit"}),u.Z.countDocuments({})]);return console.log("Counts retrieved:",{cats:e,dogs:t,birds:o,guineaPigs:n,rabbits:r,total:s}),a.NextResponse.json({success:!0,counts:{cats:e,dogs:t,birds:o,guineaPigs:n,rabbits:r,total:s}})}catch(e){return console.error("Error getting pet counts:",e),console.error("Error details:",{name:e.name,message:e.message,stack:e.stack}),a.NextResponse.json({success:!1,error:"Failed to get pet counts"},{status:500})}}let l=new r.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/pets/count/route",pathname:"/api/pets/count",filename:"route",bundlePath:"app/api/pets/count/route"},resolvedPagePath:"C:\\Users\\tsher\\OneDrive\\Desktop\\CTE204\\pet adoption - Copy\\src\\app\\api\\pets\\count\\route.js",nextConfigOutput:"",userland:n}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:g}=l,b="/api/pets/count/route";function v(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}},16385:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(11185),r=o.n(n);let s=process.env.MONGODB_URI;if(!s)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let i=global.mongoose;i||(i=global.mongoose={conn:null,promise:null});let a=async function(){if(i.conn)return i.conn;i.promise||(i.promise=r().connect(s,{bufferCommands:!1}).then(e=>e));try{i.conn=await i.promise}catch(e){throw i.promise=null,e}return i.conn}},76837:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(11185),r=o.n(n);let s=new(r()).Schema({name:{type:String,required:!0,trim:!0},breed:{type:String,required:!0,trim:!0},age:{type:String,required:!0},image:{type:String,required:!0},species:{type:String,required:!0,enum:["dog","cat","bird","guinea-pig","rabbit"]}},{collection:"Animal"}),i=r().models.Animal||r().model("Animal",s)}};var t=require("../../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),n=t.X(0,[276,972],()=>o(51368));module.exports=n})();