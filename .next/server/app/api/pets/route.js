(()=>{var e={};e.id=599,e.ids=[599],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},82266:e=>{"use strict";e.exports=require("domain")},55315:e=>{"use strict";e.exports=require("path")},6005:e=>{"use strict";e.exports=require("node:crypto")},81090:(e,t,i)=>{"use strict";i.r(t),i.d(t,{originalPathname:()=>es,patchFetch:()=>en,requestAsyncStorage:()=>et,routeModule:()=>ee,serverHooks:()=>er,staticGenerationAsyncStorage:()=>ei});var r={};i.r(r),i.d(r,{POST:()=>Q,routeSegmentConfig:()=>K});var s=i(49303),n=i(88716),a=i(60670),o=i(87070),h=i(16385),l=i(11185),d=i.n(l);let u=new(d()).Schema({name:{type:String,required:[!0,"Please provide a pet name"],trim:!0},species:{type:String,required:[!0,"Please specify pet species"],trim:!0,enum:["dog","cat","rabbit","bird","guinea-pig"]},breed:{type:String,required:[!0,"Please specify pet breed"],trim:!0},age:{type:String,required:[!0,"Please provide age"]},image:{type:String,default:""},description:{type:String,default:""},status:{type:String,enum:["available","pending","adopted"],default:"available"},createdAt:{type:Date,default:Date.now},updatedAt:{type:Date,default:Date.now}});u.pre("save",function(e){this.updatedAt=new Date,e()});let c=d().models.Pet||d().model("Pet",u),p=require("fs/promises");var f=i(55315);let m=require("node:fs");var g=i(6005);let y=require("node:events");class _ extends y.EventEmitter{constructor({filepath:e,newFilename:t,originalFilename:i,mimetype:r,hashAlgorithm:s}){super(),this.lastModifiedDate=null,Object.assign(this,{filepath:e,newFilename:t,originalFilename:i,mimetype:r,hashAlgorithm:s}),this.size=0,this._writeStream=null,"string"==typeof this.hashAlgorithm?this.hash=g.createHash(this.hashAlgorithm):this.hash=null}open(){this._writeStream=m.createWriteStream(this.filepath),this._writeStream.on("error",e=>{this.emit("error",e)})}toJSON(){let e={size:this.size,filepath:this.filepath,newFilename:this.newFilename,mimetype:this.mimetype,mtime:this.lastModifiedDate,length:this.length,originalFilename:this.originalFilename};return this.hash&&""!==this.hash&&(e.hash=this.hash),e}toString(){return`PersistentFile: ${this.newFilename}, Original: ${this.originalFilename}, Path: ${this.filepath}`}write(e,t){if(this.hash&&this.hash.update(e),this._writeStream.closed){t();return}this._writeStream.write(e,()=>{this.lastModifiedDate=new Date,this.size+=e.length,this.emit("progress",this.size),t()})}end(e){this.hash&&(this.hash=this.hash.digest("hex")),this._writeStream.end(()=>{this.emit("end"),e()})}destroy(){this._writeStream.destroy();let e=this.filepath;setTimeout(function(){m.unlink(e,()=>{})},1)}}class b extends y.EventEmitter{constructor({filepath:e,newFilename:t,originalFilename:i,mimetype:r,hashAlgorithm:s,createFileWriteStream:n}){super(),this.lastModifiedDate=null,Object.assign(this,{filepath:e,newFilename:t,originalFilename:i,mimetype:r,hashAlgorithm:s,createFileWriteStream:n}),this.size=0,this._writeStream=null,"string"==typeof this.hashAlgorithm?this.hash=(0,g.createHash)(this.hashAlgorithm):this.hash=null}open(){this._writeStream=this.createFileWriteStream(this),this._writeStream.on("error",e=>{this.emit("error",e)})}destroy(){this._writeStream.destroy()}toJSON(){let e={size:this.size,newFilename:this.newFilename,length:this.length,originalFilename:this.originalFilename,mimetype:this.mimetype};return this.hash&&""!==this.hash&&(e.hash=this.hash),e}toString(){return`VolatileFile: ${this.originalFilename}`}write(e,t){if(this.hash&&this.hash.update(e),this._writeStream.closed||this._writeStream.destroyed){t();return}this._writeStream.write(e,()=>{this.size+=e.length,this.emit("progress",this.size),t()})}end(e){this.hash&&(this.hash=this.hash.digest("hex")),this._writeStream.end(()=>{this.emit("end"),e()})}}var w=i(90450),E=i(29988);let A=require("node:fs/promises"),x=require("node:os"),S=require("node:path"),F=require("node:string_decoder");var k=i(17337);let D=class extends Error{constructor(e,t,i=500){super(e),this.code=t,this.httpCode=i}},T=require("node:stream");class L extends T.Transform{constructor(e,t={}){super(),this.globalOptions={...t},this.incomingForm=e}_flush(e){this.incomingForm.ended=!0,this.incomingForm._maybeEnd(),e()}}let v=0,O={PARSER_UNINITIALIZED:v++,START:v++,START_BOUNDARY:v++,HEADER_FIELD_START:v++,HEADER_FIELD:v++,HEADER_VALUE_START:v++,HEADER_VALUE:v++,HEADER_VALUE_ALMOST_DONE:v++,HEADERS_ALMOST_DONE:v++,PART_DATA_START:v++,PART_DATA:v++,PART_END:v++,END:v++},R={PART_BOUNDARY:1,LAST_BOUNDARY:2},B={};Object.keys(O).forEach(e=>{B[e]=O[e]});class U extends T.Transform{constructor(e={}){super({readableObjectMode:!0}),this.boundary=null,this.boundaryChars=null,this.lookbehind=null,this.bufferLength=0,this.state=O.PARSER_UNINITIALIZED,this.globalOptions={...e},this.index=null,this.flags=0}_endUnexpected(){return new D(`MultipartParser.end(): stream ended unexpectedly: ${this.explain()}`,1012,400)}_flush(e){this.state===O.HEADER_FIELD_START&&0===this.index||this.state===O.PART_DATA&&this.index===this.boundary.length?(this._handleCallback("partEnd"),this._handleCallback("end"),e()):this.state!==O.END?e(this._endUnexpected()):e()}initWithBoundary(e){this.boundary=Buffer.from(`\r
--${e}`),this.lookbehind=Buffer.alloc(this.boundary.length+8),this.state=O.START,this.boundaryChars={};for(let e=0;e<this.boundary.length;e++)this.boundaryChars[this.boundary[e]]=!0}_handleCallback(e,t,i,r){(void 0===i||i!==r)&&this.push({name:e,buffer:t,start:i,end:r})}_transform(e,t,i){let r=0,s=this.index,{index:n,state:a,flags:o}=this,{lookbehind:h,boundary:l,boundaryChars:d}=this,u=l.length,c=u-1;this.bufferLength=e.length;let p=null,f=null,m=(e,t)=>{this[`${e}Mark`]="number"==typeof t?t:r},g=e=>{delete this[`${e}Mark`]},y=(t,i)=>{let s=`${t}Mark`;s in this&&(i?(this._handleCallback(t,e,this[s],r),g(t)):(this._handleCallback(t,e,this[s],e.length),m(t,0)))};for(r=0;r<this.bufferLength;r++)switch(p=e[r],a){case O.PARSER_UNINITIALIZED:i(this._endUnexpected());return;case O.START:n=0,a=O.START_BOUNDARY;case O.START_BOUNDARY:if(n===l.length-2){if(45===p)o|=R.LAST_BOUNDARY;else if(13!==p){i(this._endUnexpected());return}n++;break}if(n-1==l.length-2){if(o&R.LAST_BOUNDARY&&45===p)this._handleCallback("end"),a=O.END,o=0;else if(o&R.LAST_BOUNDARY||10!==p){i(this._endUnexpected());return}else n=0,this._handleCallback("partBegin"),a=O.HEADER_FIELD_START;break}p!==l[n+2]&&(n=-2),p===l[n+2]&&n++;break;case O.HEADER_FIELD_START:a=O.HEADER_FIELD,m("headerField"),n=0;case O.HEADER_FIELD:if(13===p){g("headerField"),a=O.HEADERS_ALMOST_DONE;break}if(n++,45===p)break;if(58===p){if(1===n){i(this._endUnexpected());return}y("headerField",!0),a=O.HEADER_VALUE_START;break}if((f=32|p)<97||f>122){i(this._endUnexpected());return}break;case O.HEADER_VALUE_START:if(32===p)break;m("headerValue"),a=O.HEADER_VALUE;case O.HEADER_VALUE:13===p&&(y("headerValue",!0),this._handleCallback("headerEnd"),a=O.HEADER_VALUE_ALMOST_DONE);break;case O.HEADER_VALUE_ALMOST_DONE:if(10!==p){i(this._endUnexpected());return}a=O.HEADER_FIELD_START;break;case O.HEADERS_ALMOST_DONE:if(10!==p){i(this._endUnexpected());return}this._handleCallback("headersEnd"),a=O.PART_DATA_START;break;case O.PART_DATA_START:a=O.PART_DATA,m("partData");case O.PART_DATA:if(s=n,0===n){for(r+=c;r<this.bufferLength&&!(e[r]in d);)r+=u;r-=c,p=e[r]}if(n<l.length)l[n]===p?(0===n&&y("partData",!0),n++):n=0;else if(n===l.length)n++,13===p?o|=R.PART_BOUNDARY:45===p?o|=R.LAST_BOUNDARY:n=0;else if(n-1===l.length){if(o&R.PART_BOUNDARY){if(n=0,10===p){o&=~R.PART_BOUNDARY,this._handleCallback("partEnd"),this._handleCallback("partBegin"),a=O.HEADER_FIELD_START;break}}else o&R.LAST_BOUNDARY&&45===p?(this._handleCallback("partEnd"),this._handleCallback("end"),a=O.END,o=0):n=0}n>0?h[n-1]=p:s>0&&(this._handleCallback("partData",h,0,s),s=0,m("partData"),r--);break;case O.END:break;default:i(this._endUnexpected());return}return y("headerField"),y("headerValue"),y("partData"),this.index=n,this.state=a,this.flags=o,i(),this.bufferLength}explain(){return`state = ${U.stateToString(this.state)}`}}U.stateToString=e=>{for(let t in O)if(O[t]===e)return t};let I=Object.assign(U,{STATES:B});class H extends T.PassThrough{constructor(e={}){super(),this.globalOptions={...e}}}async function N(e,t){let i=this||e;return/octet-stream/i.test(i.headers["content-type"])&&await P.call(i,i,t),i}async function P(e,t){this.type="octet-stream";let i=this.headers["x-file-name"],r=this.headers["content-type"],s=this._getNewName({originalFilename:i,mimetype:r}),n=this._joinDirectoryName(s),a=await this._newFile({newFilename:s,filepath:n,originalFilename:i,mimetype:r});this.emit("fileBegin",i,a),a.open(),this.openedFiles.push(a),this._flushing+=1,this._parser=new H(this.options);let o=0;return this._parser.on("data",e=>{this.pause(),o+=1,a.write(e,()=>{o-=1,this.resume(),this.ended&&this._parser.emit("doneWritingFile")})}),this._parser.on("end",()=>{this._flushing-=1,this.ended=!0;let e=()=>{a.end(()=>{this.emit("file","file",a),this._maybeEnd()})};0===o?e():this._parser.once("doneWritingFile",e)}),this}class C extends T.Transform{constructor(e={}){super({readableObjectMode:!0}),this.globalOptions={...e},this.buffer="",this.bufferLength=0}_transform(e,t,i){this.buffer+=e.toString("ascii"),this.bufferLength=this.buffer.length,i()}_flush(e){for(let[e,t]of new URLSearchParams(this.buffer))this.push({key:e,value:t});this.buffer="",e()}}function z(e,t){this.type="urlencoded";let i=new C(this.options);return i.on("data",({key:e,value:t})=>{this.emit("field",e,t)}),i.once("end",()=>{this.ended=!0,this._maybeEnd()}),this._parser=i,this}class j extends T.Transform{constructor(e={}){super({readableObjectMode:!0}),this.chunks=[],this.globalOptions={...e}}_transform(e,t,i){this.chunks.push(String(e)),i()}_flush(e){try{let e=JSON.parse(this.chunks.join(""));this.push(e)}catch(t){e(t);return}this.chunks=null,e()}}function M(e,t){this.type="json";let i=new j(this.options);i.on("data",e=>{this.fields=e}),i.once("end",()=>{this.ended=!0,this._maybeEnd()}),this._parser=i}let $=`production-${x.platform()}-${x.hostname()}`,q=(0,w.S1)({length:25,fingerprint:$.toLowerCase()}),V={maxFields:1e3,maxFieldsSize:20971520,maxFiles:1/0,maxFileSize:209715200,maxTotalFileSize:void 0,minFileSize:1,allowEmptyFiles:!1,createDirsFromUploads:!1,keepExtensions:!1,encoding:"utf-8",hashAlgorithm:!1,uploadDir:x.tmpdir(),enabledPlugins:[N,function(e,t){let i=this||e;return/urlencoded/i.test(i.headers["content-type"])&&z.call(i,i,t),i},function(e,t){let i=this||e;if(/multipart/i.test(i.headers["content-type"])){let e=i.headers["content-type"].match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(e){var r;(r=e[1]||e[2],function(){let e,t,i;this.type="multipart";let s=new I(this.options);s.initWithBoundary(r),s.on("data",async({name:r,buffer:n,start:a,end:o})=>{if("partBegin"===r)(i=new T.Stream).readable=!0,i.headers={},i.name=null,i.originalFilename=null,i.mimetype=null,i.transferEncoding=this.options.encoding,i.transferBuffer="",e="",t="";else if("headerField"===r)e+=n.toString(this.options.encoding,a,o);else if("headerValue"===r)t+=n.toString(this.options.encoding,a,o);else if("headerEnd"===r){e=e.toLowerCase(),i.headers[e]=t;let r=t.match(/\bname=("([^"]*)"|([^\(\)<>@,;:\\"\/\[\]\?=\{\}\s\t/]+))/i);"content-disposition"===e?(r&&(i.name=r[2]||r[3]||""),i.originalFilename=this._getFileName(t)):"content-type"===e?i.mimetype=t:"content-transfer-encoding"===e&&(i.transferEncoding=t.toLowerCase()),e="",t=""}else if("headersEnd"===r){switch(i.transferEncoding){case"binary":case"7bit":case"8bit":case"utf-8":{let e=e=>{"partData"===e.name&&i.emit("data",e.buffer.slice(e.start,e.end))},t=r=>{"partEnd"===r.name&&(i.emit("end"),s.off("data",e),s.off("data",t))};s.on("data",e),s.on("data",t);break}case"base64":{let e=e=>{if("partData"===e.name){i.transferBuffer+=e.buffer.slice(e.start,e.end).toString("ascii");let t=4*parseInt(i.transferBuffer.length/4,10);i.emit("data",Buffer.from(i.transferBuffer.substring(0,t),"base64")),i.transferBuffer=i.transferBuffer.substring(t)}},t=r=>{"partEnd"===r.name&&(i.emit("data",Buffer.from(i.transferBuffer,"base64")),i.emit("end"),s.off("data",e),s.off("data",t))};s.on("data",e),s.on("data",t);break}default:return this._error(new D("unknown transfer-encoding",1014,501))}this._parser.pause(),await this.onPart(i),this._parser.resume()}else"end"===r&&(this.ended=!0,this._maybeEnd())}),this._parser=s}).call(i,i,t)}else{let e=new D("bad content-type header, no multipart boundary",1013,400);i._error(e)}}return i},function(e,t){let i=this||e;return/json/i.test(i.headers["content-type"])&&M.call(i,i,t),i}],fileWriteStreamHandler:null,defaultInvalidName:"invalid-name",filter:e=>!0,filename:void 0};function W(e,t){return Object.prototype.hasOwnProperty.call(e,t)}let Y=function(e){let t=Promise.resolve();return async function(...i){let r,s;let n=t;return t=new Promise(function(e){s=e}),await n,(r=e(...i)).then(s).catch(s),r}}(function(e){let t=S.dirname(e);return A.mkdir(t,{recursive:!0})}),X=e=>{let t=e.charCodeAt(0);return!(46===t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)};class Z extends y.EventEmitter{constructor(e={}){super(),this.options={...V,...e},this.options.maxTotalFileSize||(this.options.maxTotalFileSize=this.options.maxFileSize);let t=S.resolve(this.options.uploadDir||this.options.uploaddir||x.tmpdir());if(this.uploaddir=t,this.uploadDir=t,["error","headers","type","bytesExpected","bytesReceived","_parser","req"].forEach(e=>{this[e]=null}),this._setUpRename(),this._flushing=0,this._fieldsSize=0,this._totalFileSize=0,this._plugins=[],this.openedFiles=[],this.options.enabledPlugins=[].concat(this.options.enabledPlugins).filter(Boolean),0===this.options.enabledPlugins.length)throw new D("expect at least 1 enabled builtin plugin, see options.enabledPlugins",1e3);this.options.enabledPlugins.forEach(e=>{this.use(e)}),this._setUpMaxFields(),this._setUpMaxFiles(),this.ended=void 0,this.type=void 0}use(e){if("function"!=typeof e)throw new D(".use: expect `plugin` to be a function",1001);return this._plugins.push(e.bind(this)),this}pause(){try{this.req.pause()}catch(e){return this.ended||this._error(e),!1}return!0}resume(){try{this.req.resume()}catch(e){return this.ended||this._error(e),!1}return!0}async parse(e,t){let i;if(this.req=e,!t){let e,r;i=new Promise((t,i)=>{e=t,r=i}),t=(t,i,s)=>{t?r(t):e([i,s])}}let r=k(E(t));this.fields={};let s={};return(this.on("field",(e,t)=>{"multipart"===this.type||"urlencoded"===this.type?W(this.fields,e)?this.fields[e].push(t):this.fields[e]=[t]:this.fields[e]=t}),this.on("file",(e,t)=>{W(s,e)?s[e].push(t):s[e]=[t]}),this.on("error",e=>{r(e,this.fields,s)}),this.on("end",()=>{r(null,this.fields,s)}),await this.writeHeaders(e.headers),e.on("error",e=>{this._error(e)}).on("aborted",()=>{this.emit("aborted"),this._error(new D("Request aborted",1002))}).on("data",e=>{try{this.write(e)}catch(e){this._error(e)}}).on("end",()=>{!this.error&&this._parser&&this._parser.end()}),i)?i:this}async writeHeaders(e){if(this.headers=e,this._parseContentLength(),await this._parseContentType(),!this._parser){this._error(new D("no parser found",1003,415));return}this._parser.once("error",e=>{this._error(e)})}write(e){return this.error?null:this._parser?(this.bytesReceived+=e.length,this.emit("progress",this.bytesReceived,this.bytesExpected),this._parser.write(e),this.bytesReceived):(this._error(new D("uninitialized parser",1004)),null)}onPart(e){return this._handlePart(e)}async _handlePart(e){if(e.originalFilename&&"string"!=typeof e.originalFilename){this._error(new D("the part.originalFilename should be string when it exists",1005));return}if(!e.mimetype){let t="",i=new F.StringDecoder(e.transferEncoding||this.options.encoding);e.on("data",e=>{if(this._fieldsSize+=e.length,this._fieldsSize>this.options.maxFieldsSize){this._error(new D(`options.maxFieldsSize (${this.options.maxFieldsSize} bytes) exceeded, received ${this._fieldsSize} bytes of field data`,1006,413));return}t+=i.write(e)}),e.on("end",()=>{this.emit("field",e.name,t)});return}if(!this.options.filter(e))return;this._flushing+=1;let t=0,i=this._getNewName(e),r=this._joinDirectoryName(i),s=await this._newFile({newFilename:i,filepath:r,originalFilename:e.originalFilename,mimetype:e.mimetype});s.on("error",e=>{this._error(e)}),this.emit("fileBegin",e.name,s),s.open(),this.openedFiles.push(s),e.on("data",e=>{if(this._totalFileSize+=e.length,t+=e.length,this._totalFileSize>this.options.maxTotalFileSize){this._error(new D(`options.maxTotalFileSize (${this.options.maxTotalFileSize} bytes) exceeded, received ${this._totalFileSize} bytes of file data`,1009,413));return}0!==e.length&&(this.pause(),s.write(e,()=>{this.resume()}))}),e.on("end",()=>{if(!this.options.allowEmptyFiles&&0===t){this._error(new D("options.allowEmptyFiles is false, file size should be greater than 0",1010,400));return}if(t<this.options.minFileSize){this._error(new D(`options.minFileSize (${this.options.minFileSize} bytes) inferior, received ${t} bytes of file data`,1008,400));return}if(t>this.options.maxFileSize){this._error(new D(`options.maxFileSize (${this.options.maxFileSize} bytes), received ${t} bytes of file data`,1016,413));return}s.end(()=>{this._flushing-=1,this.emit("file",e.name,s),this._maybeEnd()})})}async _parseContentType(){if(0===this.bytesExpected){this._parser=new L(this,this.options);return}if(!this.headers["content-type"]){this._error(new D("bad content-type header, no content-type",1011,400));return}new L(this,this.options),await Promise.all(this._plugins.map(async(e,t)=>{let i=null;try{i=await e(this,this.options)||this}catch(i){let e=new D(`plugin on index ${t} failed with: ${i.message}`,1017,500);throw e.idx=t,e}Object.assign(this,i),this.emit("plugin",t,i)})),this.emit("pluginsResults",[])}_error(e,t="error"){this.error||this.ended||(this.req=null,this.error=e,this.emit(t,e),this.openedFiles.forEach(e=>{e.destroy()}))}_parseContentLength(){this.bytesReceived=0,this.headers["content-length"]?this.bytesExpected=parseInt(this.headers["content-length"],10):void 0===this.headers["transfer-encoding"]&&(this.bytesExpected=0),null!==this.bytesExpected&&this.emit("progress",this.bytesReceived,this.bytesExpected)}_newParser(){return new I(this.options)}async _newFile({filepath:e,originalFilename:t,mimetype:i,newFilename:r}){if(this.options.fileWriteStreamHandler)return new b({newFilename:r,filepath:e,originalFilename:t,mimetype:i,createFileWriteStream:this.options.fileWriteStreamHandler,hashAlgorithm:this.options.hashAlgorithm});if(this.options.createDirsFromUploads)try{await Y(e)}catch(e){this._error(new D("cannot create directory",1018,409))}return new _({newFilename:r,filepath:e,originalFilename:t,mimetype:i,hashAlgorithm:this.options.hashAlgorithm})}_getFileName(e){let t=e.match(/\bfilename=("(.*?)"|([^()<>{}[\]@,;:"?=\s/\t]+))($|;\s)/i);if(!t)return null;let i=t[2]||t[3]||"",r=i.substr(i.lastIndexOf("\\")+1);return(r=r.replace(/%22/g,'"')).replace(/&#([\d]{4});/g,(e,t)=>String.fromCharCode(t))}_getExtension(e){let t;if(!e)return"";let i=S.basename(e),r=i.indexOf("."),s=i.lastIndexOf("."),n=S.extname(i);r!==s&&(n=i.slice(r));let a=Array.from(n).findIndex(X);return"."===(t=-1===a?n:n.substring(0,a))?"":t}_joinDirectoryName(e){let t=S.join(this.uploadDir,e);return t.startsWith(this.uploadDir)?t:S.join(this.uploadDir,this.options.defaultInvalidName)}_setUpRename(){"function"==typeof this.options.filename?this._getNewName=e=>{let t="",i=this.options.defaultInvalidName;return e.originalFilename&&({ext:t,name:i}=S.parse(e.originalFilename),!0!==this.options.keepExtensions&&(t="")),this.options.filename.call(this,i,t,e,this)}:this._getNewName=e=>{let t=q();if(e&&this.options.keepExtensions){let i="string"==typeof e?e:e.originalFilename;return`${t}${this._getExtension(i)}`}return t}}_setUpMaxFields(){if(this.options.maxFields!==1/0){let e=0;this.on("field",()=>{(e+=1)>this.options.maxFields&&this._error(new D(`options.maxFields (${this.options.maxFields}) exceeded`,1007,413))})}}_setUpMaxFiles(){if(this.options.maxFiles!==1/0){let e=0;this.on("fileBegin",()=>{(e+=1)>this.options.maxFiles&&this._error(new D(`options.maxFiles (${this.options.maxFiles}) exceeded`,1015,413))})}}_maybeEnd(){!this.ended||this._flushing||this.error||(this.req=null,this.emit("end"))}}let{enabledPlugins:G}=V,J=(...e)=>new Z(...e);require("fs");let K={api:{bodyParser:!1}};async function Q(e){try{await (0,h.Z)();let t=(0,f.join)(process.cwd(),"/public/uploads");await (0,p.mkdir)(t,{recursive:!0});let i=J({uploadDir:t,keepExtensions:!0,multiples:!1}),{fields:r,files:s}=await new Promise((t,r)=>{i.parse(e,(e,i,s)=>{e?r(e):t({fields:i,files:s})})}),n="";if(s.image){let e=s.image.newFilename;n=`/uploads/${e}`}let a=await c.create({name:r.name,species:r.species,breed:r.breed,age:r.age,description:r.description,image:n,status:"available"});return o.NextResponse.json(a,{status:201})}catch(e){return console.error("Error creating pet:",e),o.NextResponse.json({error:"Error creating pet"},{status:500})}}let ee=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/pets/route",pathname:"/api/pets",filename:"route",bundlePath:"app/api/pets/route"},resolvedPagePath:"C:\\Users\\tsher\\OneDrive\\Desktop\\CTE204\\pet adoption - Copy\\src\\app\\api\\pets\\route.js",nextConfigOutput:"",userland:r}),{requestAsyncStorage:et,staticGenerationAsyncStorage:ei,serverHooks:er}=ee,es="/api/pets/route";function en(){return(0,a.patchFetch)({serverHooks:er,staticGenerationAsyncStorage:ei})}},66847:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toBig=t.shrSL=t.shrSH=t.rotrSL=t.rotrSH=t.rotrBL=t.rotrBH=t.rotr32L=t.rotr32H=t.rotlSL=t.rotlSH=t.rotlBL=t.rotlBH=t.add5L=t.add5H=t.add4L=t.add4H=t.add3L=t.add3H=void 0,t.add=b,t.fromBig=s,t.split=n;let i=BigInt(4294967296-1),r=BigInt(32);function s(e,t=!1){return t?{h:Number(e&i),l:Number(e>>r&i)}:{h:0|Number(e>>r&i),l:0|Number(e&i)}}function n(e,t=!1){let i=e.length,r=new Uint32Array(i),n=new Uint32Array(i);for(let a=0;a<i;a++){let{h:i,l:o}=s(e[a],t);[r[a],n[a]]=[i,o]}return[r,n]}let a=(e,t)=>BigInt(e>>>0)<<r|BigInt(t>>>0);t.toBig=a;let o=(e,t,i)=>e>>>i;t.shrSH=o;let h=(e,t,i)=>e<<32-i|t>>>i;t.shrSL=h;let l=(e,t,i)=>e>>>i|t<<32-i;t.rotrSH=l;let d=(e,t,i)=>e<<32-i|t>>>i;t.rotrSL=d;let u=(e,t,i)=>e<<64-i|t>>>i-32;t.rotrBH=u;let c=(e,t,i)=>e>>>i-32|t<<64-i;t.rotrBL=c;let p=(e,t)=>t;t.rotr32H=p;let f=(e,t)=>e;t.rotr32L=f;let m=(e,t,i)=>e<<i|t>>>32-i;t.rotlSH=m;let g=(e,t,i)=>t<<i|e>>>32-i;t.rotlSL=g;let y=(e,t,i)=>t<<i-32|e>>>64-i;t.rotlBH=y;let _=(e,t,i)=>e<<i-32|t>>>64-i;function b(e,t,i,r){let s=(t>>>0)+(r>>>0);return{h:e+i+(s/4294967296|0)|0,l:0|s}}t.rotlBL=_;let w=(e,t,i)=>(e>>>0)+(t>>>0)+(i>>>0);t.add3L=w;let E=(e,t,i,r)=>t+i+r+(e/4294967296|0)|0;t.add3H=E;let A=(e,t,i,r)=>(e>>>0)+(t>>>0)+(i>>>0)+(r>>>0);t.add4L=A;let x=(e,t,i,r,s)=>t+i+r+s+(e/4294967296|0)|0;t.add4H=x;let S=(e,t,i,r,s)=>(e>>>0)+(t>>>0)+(i>>>0)+(r>>>0)+(s>>>0);t.add5L=S;let F=(e,t,i,r,s,n)=>t+i+r+s+n+(e/4294967296|0)|0;t.add5H=F,t.default={fromBig:s,split:n,toBig:a,shrSH:o,shrSL:h,rotrSH:l,rotrSL:d,rotrBH:u,rotrBL:c,rotr32H:p,rotr32L:f,rotlSH:m,rotlSL:g,rotlBH:y,rotlBL:_,add:b,add3L:w,add3H:E,add4L:A,add4H:x,add5H:F,add5L:S}},29894:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0;let r=i(6005);t.crypto=r&&"object"==typeof r&&"webcrypto"in r?r.webcrypto:r&&"object"==typeof r&&"randomBytes"in r?r:void 0},52006:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shake256=t.shake128=t.keccak_512=t.keccak_384=t.keccak_256=t.keccak_224=t.sha3_512=t.sha3_384=t.sha3_256=t.sha3_224=t.Keccak=void 0,t.keccakP=b;let r=i(66847),s=i(20379),n=BigInt(0),a=BigInt(1),o=BigInt(2),h=BigInt(7),l=BigInt(256),d=BigInt(113),u=[],c=[],p=[];for(let e=0,t=a,i=1,r=0;e<24;e++){[i,r]=[r,(2*i+3*r)%5],u.push(2*(5*r+i)),c.push((e+1)*(e+2)/2%64);let s=n;for(let e=0;e<7;e++)(t=(t<<a^(t>>h)*d)%l)&o&&(s^=a<<(a<<BigInt(e))-a);p.push(s)}let f=(0,r.split)(p,!0),m=f[0],g=f[1],y=(e,t,i)=>i>32?(0,r.rotlBH)(e,t,i):(0,r.rotlSH)(e,t,i),_=(e,t,i)=>i>32?(0,r.rotlBL)(e,t,i):(0,r.rotlSL)(e,t,i);function b(e,t=24){let i=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)i[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let r=(t+8)%10,s=(t+2)%10,n=i[s],a=i[s+1],o=y(n,a,1)^i[r],h=_(n,a,1)^i[r+1];for(let i=0;i<50;i+=10)e[t+i]^=o,e[t+i+1]^=h}let t=e[2],s=e[3];for(let i=0;i<24;i++){let r=c[i],n=y(t,s,r),a=_(t,s,r),o=u[i];t=e[o],s=e[o+1],e[o]=n,e[o+1]=a}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)i[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~i[(r+2)%10]&i[(r+4)%10]}e[0]^=m[r],e[1]^=g[r]}(0,s.clean)(i)}class w extends s.Hash{constructor(e,t,i,r=!1,n=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=i,this.enableXOF=r,this.rounds=n,(0,s.anumber)(i),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,s.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,s.swap32IfBE)(this.state32),b(this.state32,this.rounds),(0,s.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(e){(0,s.aexists)(this),e=(0,s.toBytes)(e),(0,s.abytes)(e);let{blockLen:t,state:i}=this,r=e.length;for(let s=0;s<r;){let n=Math.min(t-this.pos,r-s);for(let t=0;t<n;t++)i[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:i,blockLen:r}=this;e[i]^=t,(128&t)!=0&&i===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){(0,s.aexists)(this,!1),(0,s.abytes)(e),this.finish();let t=this.state,{blockLen:i}=this;for(let r=0,s=e.length;r<s;){this.posOut>=i&&this.keccak();let n=Math.min(i-this.posOut,s-r);e.set(t.subarray(this.posOut,this.posOut+n),r),this.posOut+=n,r+=n}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,s.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,s.aoutput)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,s.clean)(this.state)}_cloneInto(e){let{blockLen:t,suffix:i,outputLen:r,rounds:s,enableXOF:n}=this;return e||(e=new w(t,i,r,n,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=i,e.outputLen=r,e.enableXOF=n,e.destroyed=this.destroyed,e}}t.Keccak=w;let E=(e,t,i)=>(0,s.createHasher)(()=>new w(t,e,i));t.sha3_224=E(6,144,28),t.sha3_256=E(6,136,32),t.sha3_384=E(6,104,48),t.sha3_512=E(6,72,64),t.keccak_224=E(1,144,28),t.keccak_256=E(1,136,32),t.keccak_384=E(1,104,48),t.keccak_512=E(1,72,64);let A=(e,t,i)=>(0,s.createXOFer)((r={})=>new w(t,e,void 0===r.dkLen?i:r.dkLen,!0));t.shake128=A(31,168,16),t.shake256=A(31,136,32)},20379:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.Hash=t.nextTick=t.swap32IfBE=t.byteSwapIfBE=t.swap8IfBE=t.isLE=void 0,t.isBytes=s,t.anumber=n,t.abytes=a,t.ahash=function(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");n(e.outputLen),n(e.blockLen)},t.aexists=function(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")},t.aoutput=function(e,t){a(e);let i=t.outputLen;if(e.length<i)throw Error("digestInto() expects output buffer of length at least "+i)},t.u8=function(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},t.u32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))},t.clean=function(...e){for(let t=0;t<e.length;t++)e[t].fill(0)},t.createView=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)},t.rotr=function(e,t){return e<<32-t|e>>>t},t.rotl=function(e,t){return e<<t|e>>>32-t>>>0},t.byteSwap=o,t.byteSwap32=h,t.bytesToHex=function(e){if(a(e),l)return e.toHex();let t="";for(let i=0;i<e.length;i++)t+=d[e[i]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(l)return Uint8Array.fromHex(e);let t=e.length,i=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(i);for(let t=0,s=0;t<i;t++,s+=2){let i=c(e.charCodeAt(s)),n=c(e.charCodeAt(s+1));if(void 0===i||void 0===n)throw Error('hex string expected, got non-hex character "'+(e[s]+e[s+1])+'" at index '+s);r[t]=16*i+n}return r},t.asyncLoop=f,t.utf8ToBytes=m,t.bytesToUtf8=function(e){return new TextDecoder().decode(e)},t.toBytes=g,t.kdfInputToBytes=function(e){return"string"==typeof e&&(e=m(e)),a(e),e},t.concatBytes=function(...e){let t=0;for(let i=0;i<e.length;i++){let r=e[i];a(r),t+=r.length}let i=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){let s=e[t];i.set(s,r),r+=s.length}return i},t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==({}).toString.call(t))throw Error("options should be object or undefined");return Object.assign(e,t)},t.createHasher=_,t.createOptHasher=b,t.createXOFer=w,t.randomBytes=function(e=32){if(r.crypto&&"function"==typeof r.crypto.getRandomValues)return r.crypto.getRandomValues(new Uint8Array(e));if(r.crypto&&"function"==typeof r.crypto.randomBytes)return Uint8Array.from(r.crypto.randomBytes(e));throw Error("crypto.getRandomValues must be defined")};let r=i(29894);function s(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function n(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function a(e,...t){if(!s(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function o(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function h(e){for(let t=0;t<e.length;t++)e[t]=o(e[t]);return e}t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],t.swap8IfBE=t.isLE?e=>e:e=>o(e),t.byteSwapIfBE=t.swap8IfBE,t.swap32IfBE=t.isLE?e=>e:h;let l="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,d=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),u={_0:48,_9:57,A:65,F:70,a:97,f:102};function c(e){return e>=u._0&&e<=u._9?e-u._0:e>=u.A&&e<=u.F?e-(u.A-10):e>=u.a&&e<=u.f?e-(u.a-10):void 0}let p=async()=>{};async function f(e,i,r){let s=Date.now();for(let n=0;n<e;n++){r(n);let e=Date.now()-s;e>=0&&e<i||(await (0,t.nextTick)(),s+=e)}}function m(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function g(e){return"string"==typeof e&&(e=m(e)),a(e),e}t.nextTick=p;class y{}function _(e){let t=t=>e().update(g(t)).digest(),i=e();return t.outputLen=i.outputLen,t.blockLen=i.blockLen,t.create=()=>e(),t}function b(e){let t=(t,i)=>e(i).update(g(t)).digest(),i=e({});return t.outputLen=i.outputLen,t.blockLen=i.blockLen,t.create=t=>e(t),t}function w(e){let t=(t,i)=>e(i).update(g(t)).digest(),i=e({});return t.outputLen=i.outputLen,t.blockLen=i.blockLen,t.create=t=>e(t),t}t.Hash=y,t.wrapConstructor=_,t.wrapConstructorWithOpts=b,t.wrapXOFConstructorWithOpts=w},90450:(e,t,i)=>{let{createId:r,init:s,getConstants:n,isCuid:a}=i(95171);e.exports.S1=s},95171:(e,t,i)=>{let{sha3_512:r}=i(52006),s=24,n=32,a=(e=4,t=Math.random)=>{let i="";for(;i.length<e;)i+=Math.floor(36*t()).toString(36);return i};function o(e){let t=0n;for(let i of e.values())t=(t<<8n)+BigInt(i);return t}let h=(e="")=>o(r(e)).toString(36).slice(1),l=Array.from({length:26},(e,t)=>String.fromCharCode(t+97)),d=e=>l[Math.floor(e()*l.length)],u=({globalObj:e="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},random:t=Math.random}={})=>{let i=Object.keys(e).toString();return h(i.length?i+a(n,t):a(n,t)).substring(0,n)},c=e=>()=>e++,p=476782367,f=({random:e=Math.random,counter:t=c(Math.floor(e()*p)),length:i=s,fingerprint:r=u({random:e})}={})=>function(){let s=d(e),n=Date.now().toString(36),o=t().toString(36),l=a(i,e),u=`${n+l+o+r}`;return`${s+h(u).substring(1,i)}`},m=f();e.exports.getConstants=()=>({defaultLength:s,bigLength:n}),e.exports.init=f,e.exports.createId=m,e.exports.bufToBigInt=o,e.exports.createCounter=c,e.exports.createFingerprint=u,e.exports.isCuid=(e,{minLength:t=2,maxLength:i=n}={})=>{let r=e.length;return!!("string"==typeof e&&r>=t&&r<=i&&/^[0-9a-z]+$/.test(e))}},71474:(e,t,i)=>{"use strict";var r=i(79201),s=[];function n(){this.task=null,this.domain=null}e.exports=function(e){var t;(t=s.length?s.pop():new n).task=e,t.domain=process.domain,r(t)},n.prototype.call=function(){this.domain&&this.domain.enter();var e=!0;try{this.task.call(),e=!1,this.domain&&this.domain.exit()}finally{e&&r.requestFlush(),this.task=null,this.domain=null,s.push(this)}}},79201:(e,t,i)=>{"use strict";var r,s="function"==typeof setImmediate;function n(e){a.length||(d(),o=!0),a[a.length]=e}e.exports=n;var a=[],o=!1,h=0;function l(){for(;h<a.length;){var e=h;if(h+=1,a[e].call(),h>1024){for(var t=0,i=a.length-h;t<i;t++)a[t]=a[t+h];a.length-=h,h=0}}a.length=0,h=0,o=!1}function d(){var e=process.domain;e&&(r||(r=i(82266)),r.active=process.domain=null),o&&s?setImmediate(l):process.nextTick(l),e&&(r.active=process.domain=e)}n.requestFlush=d},29988:(e,t,i)=>{var r=i(94643);e.exports=r(function(e){var t=!0;return s(function(){t=!1}),function(){var i=arguments,r=this;t?s(function(){e.apply(r,i)}):e.apply(r,i)}});var s=i(71474)},17337:(e,t,i)=>{var r=i(94643);function s(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function n(e){var t=function(){if(t.called)throw Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},i=e.name||"Function wrapped with `once`";return t.onceError=i+" shouldn't be called more than once",t.called=!1,t}e.exports=r(s),e.exports.strict=r(n),s.proto=s(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return s(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return n(this)},configurable:!0})})},94643:e=>{e.exports=function e(t,i){if(t&&i)return e(t)(i);if("function"!=typeof t)throw TypeError("need wrapper function");return Object.keys(t).forEach(function(e){r[e]=t[e]}),r;function r(){for(var e=Array(arguments.length),i=0;i<e.length;i++)e[i]=arguments[i];var r=t.apply(this,e),s=e[e.length-1];return"function"==typeof r&&r!==s&&Object.keys(s).forEach(function(e){r[e]=s[e]}),r}}},16385:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var r=i(11185),s=i.n(r);let n=process.env.MONGODB_URI;if(!n)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let a=global.mongoose;a||(a=global.mongoose={conn:null,promise:null});let o=async function(){if(a.conn)return a.conn;a.promise||(a.promise=s().connect(n,{bufferCommands:!1}).then(e=>e));try{a.conn=await a.promise}catch(e){throw a.promise=null,e}return a.conn}}};var t=require("../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),r=t.X(0,[276,972],()=>i(81090));module.exports=r})();