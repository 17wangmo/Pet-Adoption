(()=>{var e={};e.id=836,e.ids=[836],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},76886:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>c,pages:()=>p,routeModule:()=>u,tree:()=>l}),r(37676),r(27584),r(35866);var o=r(23191),n=r(88716),s=r(37922),i=r.n(s),a=r(95231),d={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>a[e]);r.d(t,d);let l=["",{children:["admin",{children:["adoptions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,37676)),"C:\\Users\\tsher\\OneDrive\\Desktop\\CTE204\\pet adoption - Copy\\src\\app\\admin\\adoptions\\page.jsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,27584)),"C:\\Users\\tsher\\OneDrive\\Desktop\\CTE204\\pet adoption - Copy\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],p=["C:\\Users\\tsher\\OneDrive\\Desktop\\CTE204\\pet adoption - Copy\\src\\app\\admin\\adoptions\\page.jsx"],c="/admin/adoptions/page",h={require:r,loadChunk:()=>Promise.resolve()},u=new o.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/admin/adoptions/page",pathname:"/admin/adoptions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},61053:(e,t,r)=>{Promise.resolve().then(r.bind(r,24310))},24310:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var o=r(10326),n=r(17577),s=r(77007),i=r(3544),a=r(77109),d=r(35047),l=r(90434);let p={container:{maxWidth:"1400px",margin:"0 auto",padding:"2rem",backgroundColor:"#f8f9fa"},tableWrapper:{overflowX:"auto",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},table:{width:"100%",borderCollapse:"collapse",whiteSpace:"normal",backgroundColor:"white"},th:{backgroundColor:"#f3e6fa",color:"#333",padding:"1rem",textAlign:"left",fontSize:"0.9rem",fontWeight:"bold",borderBottom:"2px solid #e0e0e0"},td:{padding:"1rem",borderBottom:"1px solid #e0e0e0",fontSize:"0.9rem",maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis"},reasonCell:{maxWidth:"300px",whiteSpace:"normal",lineHeight:"1.4"},statusCell:{textAlign:"center"},button:{padding:"0.5rem 1rem",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",fontSize:"0.85rem",transition:"opacity 0.2s"},approveButton:{backgroundColor:"#4CAF50"},rejectButton:{backgroundColor:"#f44336"},buttonContainer:{display:"flex",gap:"0.5rem",justifyContent:"center"},title:{color:"#9c60be",textAlign:"center",marginBottom:"2rem",fontSize:"2rem"},error:{color:"red",marginBottom:"1rem",padding:"1rem",backgroundColor:"#ffebee",borderRadius:"4px"},backButton:{display:"inline-flex",alignItems:"center",gap:"0.5rem",backgroundColor:"#9c60be",color:"white",padding:"0.75rem 1.5rem",borderRadius:"8px",textDecoration:"none",fontSize:"0.95rem",marginBottom:"1rem",border:"none",cursor:"pointer",transition:"background-color 0.2s",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},header:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"2rem"}};function c(){let[e,t]=(0,n.useState)([]),[r,c]=(0,n.useState)(""),{data:h,status:u}=(0,a.useSession)();(0,d.useRouter)();let x=async(e,r)=>{try{let o=await fetch("/api/adoptions",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({adoptionId:e,status:r})}),n=await o.json();o.ok?t(t=>t.map(t=>t._id===e?{...t,status:r}:t)):c(n.error||"Failed to update status")}catch(e){c("Error updating adoption status")}};return"loading"===u?(0,o.jsxs)(o.Fragment,{children:[o.jsx(s.Z,{}),o.jsx("main",{style:p.container,children:o.jsx("h1",{style:p.title,children:"Loading..."})}),o.jsx(i.Z,{})]}):h?.user?.role!=="admin"?null:(0,o.jsxs)(o.Fragment,{children:[o.jsx(s.Z,{}),(0,o.jsxs)("main",{style:p.container,children:[(0,o.jsxs)("div",{style:p.header,children:[o.jsx(l.default,{href:"/admin",style:p.backButton,children:"â† Back to Dashboard"}),o.jsx("h1",{style:p.title,children:"Adoption Requests"})]}),r&&o.jsx("div",{style:p.error,children:r}),o.jsx("div",{style:p.tableWrapper,children:(0,o.jsxs)("table",{style:p.table,children:[o.jsx("thead",{children:(0,o.jsxs)("tr",{children:[o.jsx("th",{style:p.th,children:"Pet Name"}),o.jsx("th",{style:p.th,children:"Type"}),o.jsx("th",{style:p.th,children:"Breed"}),o.jsx("th",{style:p.th,children:"User"}),o.jsx("th",{style:p.th,children:"Email"}),o.jsx("th",{style:p.th,children:"Phone"}),o.jsx("th",{style:p.th,children:"Reason"}),o.jsx("th",{style:p.th,children:"Status"}),o.jsx("th",{style:p.th,children:"Requested At"}),o.jsx("th",{style:p.th,children:"Actions"})]})}),o.jsx("tbody",{children:e.map(e=>(0,o.jsxs)("tr",{children:[o.jsx("td",{style:p.td,children:e.petName}),o.jsx("td",{style:p.td,children:e.petType}),o.jsx("td",{style:p.td,children:e.petBreed}),o.jsx("td",{style:p.td,children:e.user?.name||"N/A"}),o.jsx("td",{style:p.td,children:e.email}),o.jsx("td",{style:p.td,children:e.phone}),o.jsx("td",{style:{...p.td,...p.reasonCell},children:e.reason}),o.jsx("td",{style:{...p.td,...p.statusCell},children:o.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.85rem",backgroundColor:"approved"===e.status?"#e8f5e9":"rejected"===e.status?"#ffebee":"#fff3e0",color:"approved"===e.status?"#2e7d32":"rejected"===e.status?"#c62828":"#ef6c00"},children:e.status||"pending"})}),o.jsx("td",{style:p.td,children:new Date(e.createdAt).toLocaleString()}),o.jsx("td",{style:p.td,children:"pending"===e.status&&(0,o.jsxs)("div",{style:p.buttonContainer,children:[o.jsx("button",{onClick:()=>x(e._id,"approved"),style:{...p.button,...p.approveButton},children:"Approve"}),o.jsx("button",{onClick:()=>x(e._id,"rejected"),style:{...p.button,...p.rejectButton},children:"Reject"})]})})]},e._id))})]})})]}),o.jsx(i.Z,{})]})}},37676:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});let o=(0,r(68570).createProxy)(String.raw`C:\Users\tsher\OneDrive\Desktop\CTE204\pet adoption - Copy\src\app\admin\adoptions\page.jsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[276,159,137,464],()=>r(76886));module.exports=o})();