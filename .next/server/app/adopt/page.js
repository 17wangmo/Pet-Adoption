(()=>{var e={};e.id=479,e.ids=[479],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3011:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>c,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>p}),r(74426),r(27584),r(35866);var n=r(23191),o=r(88716),a=r(37922),i=r.n(a),s=r(95231),l={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>s[e]);r.d(t,l);let p=["",{children:["adopt",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,74426)),"C:\\Users\\tsher\\OneDrive\\Desktop\\CTE204\\pet adoption - Copy\\src\\app\\adopt\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,27584)),"C:\\Users\\tsher\\OneDrive\\Desktop\\CTE204\\pet adoption - Copy\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\tsher\\OneDrive\\Desktop\\CTE204\\pet adoption - Copy\\src\\app\\adopt\\page.jsx"],u="/adopt/page",c={require:r,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/adopt/page",pathname:"/adopt",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}})},5242:(e,t,r)=>{Promise.resolve().then(r.bind(r,18574))},18574:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var n=r(10326),o=r(77109),a=r(35047),i=r(17577),s=r(77007),l=r(3544);let p={container:{minHeight:"100vh",backgroundColor:"#fce4ec",padding:"2rem"},formWrapper:{maxWidth:"600px",margin:"0 auto",backgroundColor:"white",padding:"2rem",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},title:{color:"#9c60be",textAlign:"center",marginBottom:"2rem",fontSize:"2rem"},form:{display:"flex",flexDirection:"column",gap:"1.5rem"},inputGroup:{display:"flex",flexDirection:"column",gap:"0.5rem"},label:{color:"#666",fontSize:"0.9rem"},input:{padding:"0.75rem",border:"1px solid #ddd",borderRadius:"5px",fontSize:"1rem"},textarea:{padding:"0.75rem",border:"1px solid #ddd",borderRadius:"5px",fontSize:"1rem",minHeight:"150px",resize:"vertical"},button:{backgroundColor:"#9c60be",color:"white",padding:"1rem",border:"none",borderRadius:"5px",fontSize:"1rem",cursor:"pointer",transition:"background-color 0.3s ease"},error:{color:"#e53935",fontSize:"0.875rem",marginTop:"0.5rem"}};function d(){let{data:e,status:t}=(0,o.useSession)(),r=(0,a.useRouter)(),d=(0,a.useSearchParams)(),[u,c]=(0,i.useState)({petName:d.get("pet")?decodeURIComponent(d.get("pet")):"",petType:d.get("type")?decodeURIComponent(d.get("type")):"",petBreed:d.get("breed")?decodeURIComponent(d.get("breed")):"",phone:"",email:e?.user?.email||"",reason:""}),[m,h]=(0,i.useState)(""),[x,y]=(0,i.useState)(!1),[g,b]=(0,i.useState)(null);if("loading"===t)return(0,n.jsxs)(n.Fragment,{children:[n.jsx(s.Z,{}),n.jsx("div",{style:p.container,children:n.jsx("div",{style:p.formWrapper,children:n.jsx("h1",{style:p.title,children:"Loading..."})})}),n.jsx(l.Z,{})]});if(!e){let e=`/adopt?pet=${encodeURIComponent(u.petName)}&type=${encodeURIComponent(u.petType)}&breed=${encodeURIComponent(u.petBreed)}`;return r.push(`/auth/login?callbackUrl=${encodeURIComponent(e)}`),null}let j=async e=>{e.preventDefault(),h(""),y(!0);try{if(!g){h("Please select a valid pet"),y(!1);return}let e=await fetch("/api/adoptions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...u,petName:g.name,petType:g.type,petBreed:g.breed})}),t=await e.json();e.ok?r.push("/adopt/success"):h(t.error||"Failed to submit adoption request")}catch(e){console.error("Adoption submission error:",e),h("An error occurred. Please try again.")}finally{y(!1)}},f=e=>{let{name:t,value:r}=e.target;c(e=>({...e,[t]:r}))};return(0,n.jsxs)(n.Fragment,{children:[n.jsx(s.Z,{}),n.jsx("div",{style:p.container,children:(0,n.jsxs)("div",{style:p.formWrapper,children:[n.jsx("h1",{style:p.title,children:"Adopt Your New Furry Friend"}),g&&(0,n.jsxs)("div",{style:{backgroundColor:"#f8bbd0",padding:"1rem",borderRadius:"5px",marginBottom:"1.5rem"},children:[(0,n.jsxs)("h3",{style:{margin:"0 0 0.5rem 0"},children:["Selected Pet: ",g.name]}),(0,n.jsxs)("p",{style:{margin:0},children:["Breed: ",g.breed]}),(0,n.jsxs)("p",{style:{margin:0},children:["Type: ",g.type]})]}),(0,n.jsxs)("form",{onSubmit:j,style:p.form,children:[!g&&(0,n.jsxs)("div",{style:p.inputGroup,children:[n.jsx("label",{htmlFor:"petName",style:p.label,children:"Pet Name"}),n.jsx("input",{type:"text",id:"petName",name:"petName",value:u.petName,onChange:f,required:!0,style:p.input,placeholder:"Enter the name of the pet you want to adopt"})]}),!g&&(0,n.jsxs)("div",{style:p.inputGroup,children:[n.jsx("label",{htmlFor:"petType",style:p.label,children:"Pet Type"}),n.jsx("input",{type:"text",id:"petType",name:"petType",value:u.petType,onChange:f,required:!0,style:p.input,placeholder:"Enter the type of the pet you want to adopt"})]}),!g&&(0,n.jsxs)("div",{style:p.inputGroup,children:[n.jsx("label",{htmlFor:"petBreed",style:p.label,children:"Pet Breed"}),n.jsx("input",{type:"text",id:"petBreed",name:"petBreed",value:u.petBreed,onChange:f,required:!0,style:p.input,placeholder:"Enter the breed of the pet you want to adopt"})]}),(0,n.jsxs)("div",{style:p.inputGroup,children:[n.jsx("label",{htmlFor:"phone",style:p.label,children:"Phone Number"}),n.jsx("input",{type:"tel",id:"phone",name:"phone",value:u.phone,onChange:f,required:!0,style:p.input,placeholder:"Enter your phone number",pattern:"[0-9\\s-+()]{10,}",title:"Please enter a valid phone number"})]}),(0,n.jsxs)("div",{style:p.inputGroup,children:[n.jsx("label",{htmlFor:"email",style:p.label,children:"Email"}),n.jsx("input",{type:"email",id:"email",name:"email",value:u.email,onChange:f,required:!0,style:p.input,placeholder:"Enter your email",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",title:"Please enter a valid email address"})]}),(0,n.jsxs)("div",{style:p.inputGroup,children:[n.jsx("label",{htmlFor:"reason",style:p.label,children:"Why do you want to adopt this pet?"}),n.jsx("textarea",{id:"reason",name:"reason",value:u.reason,onChange:f,required:!0,style:p.textarea,placeholder:"Tell us why you'd be a great pet parent...",minLength:"5"})]}),m&&n.jsx("div",{style:p.error,children:m}),n.jsx("button",{type:"submit",style:{...p.button,opacity:x?.7:1,cursor:x?"not-allowed":"pointer"},disabled:x||!g,children:x?"Submitting...":"Submit Adoption Request"})]})]})}),n.jsx(l.Z,{})]})}},74426:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(68570).createProxy)(String.raw`C:\Users\tsher\OneDrive\Desktop\CTE204\pet adoption - Copy\src\app\adopt\page.jsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[276,159,137,464],()=>r(3011));module.exports=n})();